<!DOCTYPE html>
<html>
<head>
  <title>Batch Apply</title>
</head>
<body>
  <h2>ðŸ“¦ Batch Apply to Matching Jobs</h2>
  <p>
    <a href="{{ url_for('dashboard') }}">Dashboard</a> |
    <a href="{{ url_for('manual_jobs') }}">Manual Apply</a> |
    <a href="{{ url_for('applications') }}">Applications</a>
  </p>

  {% if jobs %}
    <form method="POST">
      <p>
        <input type="checkbox" id="selectAll"> <label for="selectAll">Select All Jobs</label>
      </p>
      <ul>
        {% for job in jobs %}
        <li>
          <input type="checkbox" name="job_links" value="{{ job.link }}" checked>
          <strong>{{ job.title }}</strong> @ <em>{{ job.company }}</em><br>
          <a href="{{ job.link }}" target="_blank">View Job</a>
        </li><br>
        {% endfor %}
      </ul>
      <button type="submit">ðŸš€ Apply Selected Jobs</button>
    </form>
  {% else %}
    <p>ðŸ˜• No jobs matched your profile. Try updating <a href="{{ url_for('profile') }}">your profile</a>.</p>
  {% endif %}

  <script>
    // Select/Deselect all checkboxes
    document.getElementById('selectAll').addEventListener('change', function () {
      const checkboxes = document.querySelectorAll('input[name="job_links"]');
      for (let cb of checkboxes) {
        cb.checked = this.checked;
      }
    });
  </script>
</body>
</html> 